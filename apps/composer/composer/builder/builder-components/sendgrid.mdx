---
id: sendgrid
title: SendGrid Component
sidebar_label: SendGrid
description: Send emails through SendGrid. Learn more about using Composer's SendGrid component.
---

[//]: # "DO NOT EDIT THIS FILE MANUALLY."
[//]: # "This file was auto generated using scripts in docusaurus/scripts/components/"

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import ComponentInputsTable from "@site/src/components/component-inputs-table";
import ExampleIntegrationLink from "@site/src/components/example-integration-link";
import OAuthCallbackURL from "@site/src/components/oauth-callback-url";
import Screenshot from "@site/src/components/screenshot";


<div className="avatar">
  <div className="avatar__photo-link avatar__photo avatar__photo--lg">
    <img
      src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAYAAADG4PRLAAACF0lEQVR4nO3csWoUURSA4bPLGEd3XRMwCkJEqwRRUATRFxCx8QHEB7DQWnwL8RlsxNLCQrARESLYLMRGFFcWFgmBZNcZE1Ar241w50745f8e4JwD/zLVZSMkSZIkSZIkSZIk/a86B33Av7p0997lzTuP3rax68rk1/TbZqefe89iUU1ePVg9mzKjaOiW7A71B4PRbpRt7Dr/+3A5nu7mX9Qvl1NHdJu4QwfHgHAGhDMgnAHhDAhnQDgDwhkQzoBwBoQzIJwB4QwIZ0A4A8IZEM6AcAaEMyCcAeEMCGdAOAPCJT/svXbr9umy1zvSxDHzDNYuXM2946/iWCcunlnIvudot/7xPnFG8tP6xx++bJRLJ9ZS5+xnuLMXTz5Pc69p1cpC1KObK0k/fj+hcAaEMyCcAeEMCGdAOAPCGRDOgHAGhDMgnAHhDAhnQDgDwhkQzoBwBoQzIJwB4QwIZ0A4A8IZEM6AcMlP69eHsVTFrIlb5jp1soj757L/D3lERHx9/eLheGP4Lveeven29ihxRnLAj9+7x8fTn6lj9nU9Im6s9rLviYgYvnn5fP3Z00+tLEvkJxTOgHAGhDMgnAHhDAhnQDgDwhkQzoBwBoQzIJwB4QwIZ0A4A8IZEM6AcAaEMyCcAeEMCGdAOAPCJT/sXSyqSfTL5SaOmafXqXbqrWor956IiHo2q9vYI0mSJEmSJEmSJEnz/AHrc0kLHY59iQAAAABJRU5ErkJggg=="
      alt="SendGrid"
    />
  </div>
  <div className="avatar__intro">
    <h4 className="avatar__name">Send emails through SendGrid</h4>
    <small className="avatar__subtitle">
      Component key: <b>sendgrid</b>
    </small>
  </div>
</div>

## Description

[SendGrid](https://sendgrid.com/) is an email delivery service.
This component allows you to send of emails through the SendGrid platform.

## Connections

### SendGrid API Key

Information about getting started and creating API keys with [SendGrid](https://sendgrid.com/docs/for-developers/sending-email/api-getting-started/) can be found on their developer documentation site.

<ComponentInputsTable
  inputs={[
    {
      placeholder: "API Key",
      comments: "Provide the API Key obtained from the developer console.",
      required: true,
      shown: true,
      key: "apiKey",
      type: "password",
      default: "",
      label: "API Key",
    },
  ]}
/>

## Triggers

<div id="webhook" />

### Webhook

Receive and validate webhook requests from SendGrid for webhooks you configure. | <small><b>key: webhook</b></small>

<ComponentInputsTable inputs={[]} />

You can configure a SendGrid [event webhook](https://docs.sendgrid.com/for-developers/tracking-events/getting-started-event-webhook) to send information to a Composer webhook URL when an email is received.

#### Output Example Payload

```json
{
  "payload": {
    "headers": {
      "accept": "*/*",
      "Content-Type": "application/json; charset=UTF-8",
      "User-Agent": "SendGrid Event API",
      "Host": "hooks.example.elasticpathintegrations.com"
    },
    "body": {
      "data": [
        {
          "email": "someone@prismatic-example.com",
          "timestamp": "1635784924",
          "smtp-id": "<example.dfd.64b469@ismtpd-555>",
          "event": "processed",
          "category": ["Example Email Category"],
          "sg_event_id": "WoOMEuhb-Mj_LEKrp8bC4g==",
          "sg_message_id": "14c5d75ce93.dfd.64b469.filter0001.16648.5515E0B88.0"
        }
      ]
    },
    "rawBody": {
      "data": {
        "type": "Buffer",
        "data": [69, 120, 97, 109, 112, 108, 101]
      }
    },
    "queryParameters": null,
    "webhookUrls": {
      "Flow 1": "https://hooks.example.elasticpathintegrations.com/trigger/EXAMPLEGbG93Q29uZmlnOmRlNmNmNDMyLTliNWMtN0005NDMxLTRmYzA4ZjViODgxOA=="
    },
    "webhookApiKeys": {
      "Flow 1": ["abc-123"]
    },
    "customer": {
      "externalId": "customer-example-external-id",
      "name": "John Doe"
    }
  }
}
```

<hr className="componentActionSeparator" />

## Actions

<div id="rawrequest" />

### Raw Request

Send raw HTTP request to SendGrid | <small><b>key: rawRequest</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "connection",
      type: "connection",
      label: "Connection",
    },
    {
      placeholder: "Data to send",
      required: false,
      comments: "The HTTP body payload to send to the URL.",
      example: '{"exampleKey": "Example Data"}',
      key: "data",
      type: "string",
      default: "",
      label: "Data",
    },
    {
      required: false,
      comments: "Enabling this flag will log out the current request.",
      key: "debugRequest",
      type: "boolean",
      default: "false",
      label: "Debug Request",
    },
    {
      placeholder: "Data to send",
      required: false,
      comments: "File Data to be sent as a multipart form upload.",
      example: '[{key: "example.txt", value: "My File Contents"}]',
      key: "fileData",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "File Data",
    },
    {
      placeholder: "The file name to apply to a file",
      required: false,
      comments:
        "File names to apply to the file data inputs. Keys must match the file data keys above.",
      key: "fileDataFileNames",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "File Data File Names",
    },
    {
      placeholder: "Data to send",
      required: false,
      comments: "The Form Data to be sent as a multipart form upload.",
      example: '[{"key": "Example Key", "value": new Buffer("Hello World")}]',
      key: "formData",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Form Data",
    },
    {
      placeholder: "Header",
      required: false,
      comments: "A list of headers to send with the request.",
      example: "User-Agent: curl/7.64.1",
      key: "headers",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Header",
    },
    {
      placeholder: "Max Retries",
      required: false,
      comments: "The maximum number of retries to attempt.",
      key: "maxRetries",
      type: "string",
      default: "0",
      label: "Max Retry Count",
    },
    {
      required: true,
      model: [
        {
          label: "DELETE",
          value: "DELETE",
        },
        {
          label: "GET",
          value: "GET",
        },
        {
          label: "HEAD",
          value: "HEAD",
        },
        {
          label: "LINK",
          value: "LINK",
        },
        {
          label: "OPTIONS",
          value: "OPTIONS",
        },
        {
          label: "PATCH",
          value: "PATCH",
        },
        {
          label: "POST",
          value: "POST",
        },
        {
          label: "PURGE",
          value: "PURGE",
        },
        {
          label: "PUT",
          value: "PUT",
        },
        {
          label: "UNLINK",
          value: "UNLINK",
        },
      ],
      comments: "The HTTP method to use.",
      key: "method",
      type: "string",
      default: "",
      label: "Method",
    },
    {
      placeholder: "Query Parameter",
      required: false,
      comments:
        "A list of query parameters to send with the request. This is the portion at the end of the URL similar to ?key1=value1&key2=value2.",
      key: "queryParams",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Query Parameter",
    },
    {
      placeholder: "Response Type",
      required: true,
      comments:
        "The type of data you expect in the response. You can request json, text, or binary data.",
      model: [
        {
          label: "arraybuffer",
          value: "arraybuffer",
        },
        {
          label: "document",
          value: "document",
        },
        {
          label: "json",
          value: "json",
        },
        {
          label: "text",
          value: "text",
        },
      ],
      key: "responseType",
      type: "string",
      default: "json",
      label: "Response Type",
    },
    {
      required: false,
      comments:
        "If true, retries on all erroneous responses regardless of type.",
      key: "retryAllErrors",
      type: "boolean",
      default: "false",
      label: "Retry On All Errors",
    },
    {
      placeholder: "Retry Delay",
      required: false,
      comments: "The delay in milliseconds between retries.",
      key: "retryDelayMS",
      type: "string",
      default: "0",
      label: "Retry Delay (ms)",
    },
    {
      required: false,
      comments:
        "The maximum time that a client will await a response to its request",
      example: "2000",
      key: "timeout",
      type: "string",
      default: "",
      label: "Timeout",
    },
    {
      placeholder: "URL to call",
      required: true,
      comments:
        "Input the path only (/templates), The base URL is already included (https://api.sendgrid.com/v3). For example, to connect to https://api.sendgrid.com/v3/templates, only /templates is entered in this field.",
      example: "/templates",
      key: "url",
      type: "string",
      default: "",
      label: "URL",
    },
    {
      required: false,
      comments:
        "Specifies whether to use a pre-defined exponential backoff strategy for retries.",
      key: "useExponentialBackoff",
      type: "boolean",
      default: "false",
      label: "Use Exponential Backoff",
    },
  ]}
/>

<hr className="componentActionSeparator" />

<div id="sendemail" />

### Send Email

Send a single email to one or more recipients | <small><b>key: sendEmail</b></small>

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Email recipient(s) to blind carbon-copy",
      required: false,
      comments:
        "The recipient's email address, or a comma-separated list of recipient email addresses to BCC",
      example: "alex.cooper@progix.io,kristin.henry@progix.io",
      key: "bcc",
      type: "string",
      default: "",
      label: "BCC",
    },
    {
      placeholder: "Email recipient(s) to carbon-copy",
      required: false,
      comments:
        "The recipient's email address, or a comma-separated list of recipient email addresses to CC",
      example: "alex.cooper@progix.io,kristin.henry@progix.io",
      key: "cc",
      type: "string",
      default: "",
      label: "CC",
    },
    {
      placeholder: "Attachment Content",
      required: false,
      comments: "Provide attachment data to send with the email.",
      key: "content",
      type: "data",
      default: "",
      label: "Attachment Content",
    },
    {
      placeholder: "Content Id",
      required: false,
      comments:
        "Provide the content Id of the attachment. This value is only required when you select 'inline'",
      example: "12345",
      key: "contentId",
      type: "string",
      default: "",
      label: "Content Id",
    },
    {
      placeholder: "Disposition",
      required: false,
      comments: "Specifies how you would like the attachment to be displayed.",
      model: [
        {
          label: "Inline",
          value: "inline",
        },
        {
          label: "Attachment",
          value: "attachment",
        },
      ],
      key: "disposition",
      type: "string",
      default: "",
      label: "Disposition",
    },
    {
      placeholder: "File Name",
      required: false,
      comments: "Provide a name for the file to attach.",
      example: "reports.csv",
      key: "fileName",
      type: "string",
      default: "",
      label: "File Name",
    },
    {
      placeholder: "File Type",
      required: false,
      comments: "The MIME type of the content you are attaching",
      example: "text/plain",
      key: "fileType",
      type: "string",
      default: "",
      label: "File Type",
    },
    {
      placeholder: "Email sender",
      required: true,
      comments: "The sender's email address",
      example: "susan.smith@progix.io",
      key: "fromEmail",
      type: "string",
      default: "",
      label: "From Email",
    },
    {
      placeholder: "Name of sender",
      required: false,
      comments: "The sender's name",
      example: "John Doe",
      key: "fromName",
      type: "string",
      default: "",
      label: "From Name",
    },
    {
      placeholder: "HTML Body",
      required: false,
      comments: "The optional HTML body of the email",
      example: "Hello from <b>Composer!</b>",
      key: "html",
      type: "text",
      default: "",
      label: "HTML",
    },
    {
      required: false,
      language: "json",
      comments:
        "You can use this field to overwrite multiple properties of the email. For examples of which properties to use, checkout the SendGrid docs: https://docs.sendgrid.com/for-developers/sending-email/personalizations",
      example:
        '[\n  {\n    "to": [\n      {\n        "email": "john@example.com"\n      }\n    ],\n    "send_at": 1600188812\n  },\n  {\n    "to": [\n      {\n        "email": "jane@example.com"\n      }\n    ],\n    "send_at": 1600275471\n  }\n]',
      key: "personalizations",
      type: "code",
      default: "[]",
      label: "Personalizations",
    },
    {
      placeholder: "Email To Reply To",
      required: false,
      comments: "Email To Reply To",
      example: "susan.smith@progix.io",
      key: "replyToEmail",
      type: "string",
      default: "",
      label: "Reply To Email",
    },
    {
      placeholder: "Name To Reply To",
      required: false,
      comments:
        "Name to reply to. This field is only required when you provide a value for Reply To Email.",
      example: "John Doe",
      key: "replyToName",
      type: "string",
      default: "",
      label: "Reply To Name",
    },
    {
      required: true,
      key: "sendGridConnection",
      type: "connection",
      label: "Connection",
    },
    {
      placeholder: "Subject",
      required: true,
      comments: "The email subject line",
      example: "Hello from Composer!",
      key: "subject",
      type: "string",
      default: "",
      label: "Subject",
    },
    {
      placeholder: "Text Body",
      required: true,
      comments: "The text body of the email",
      example: "Here's the body of a notification.",
      key: "text",
      type: "text",
      default: "",
      label: "Text",
    },
    {
      placeholder: "Email recipient(s)",
      required: true,
      comments:
        "The recipient's email address, or a comma-separated list of recipient email addresses",
      example: "alex.cooper@progix.io,kristin.henry@progix.io",
      key: "to",
      type: "string",
      default: "",
      label: "To",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": [
    {
      "body": {
        "message": "Example"
      },
      "statusCode": 200,
      "headers": {}
    },
    {}
  ]
}
```

<hr className="componentActionSeparator" />

<div id="sendmultipleemails" />

### Send Multiple Emails

Send a separate email to each recipient | <small><b>key: sendMultipleEmails</b></small>

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Email recipient(s) to blind carbon-copy",
      required: false,
      comments:
        "The recipient's email address, or a comma-separated list of recipient email addresses to BCC",
      example: "alex.cooper@progix.io,kristin.henry@progix.io",
      key: "bcc",
      type: "string",
      default: "",
      label: "BCC",
    },
    {
      placeholder: "Email recipient(s) to carbon-copy",
      required: false,
      comments:
        "The recipient's email address, or a comma-separated list of recipient email addresses to CC",
      example: "alex.cooper@progix.io,kristin.henry@progix.io",
      key: "cc",
      type: "string",
      default: "",
      label: "CC",
    },
    {
      placeholder: "Attachment Content",
      required: false,
      comments: "Provide attachment data to send with the email.",
      key: "content",
      type: "data",
      default: "",
      label: "Attachment Content",
    },
    {
      placeholder: "Content Id",
      required: false,
      comments:
        "Provide the content Id of the attachment. This value is only required when you select 'inline'",
      example: "12345",
      key: "contentId",
      type: "string",
      default: "",
      label: "Content Id",
    },
    {
      placeholder: "Disposition",
      required: false,
      comments: "Specifies how you would like the attachment to be displayed.",
      model: [
        {
          label: "Inline",
          value: "inline",
        },
        {
          label: "Attachment",
          value: "attachment",
        },
      ],
      key: "disposition",
      type: "string",
      default: "",
      label: "Disposition",
    },
    {
      placeholder: "File Name",
      required: false,
      comments: "Provide a name for the file to attach.",
      example: "reports.csv",
      key: "fileName",
      type: "string",
      default: "",
      label: "File Name",
    },
    {
      placeholder: "File Type",
      required: false,
      comments: "The MIME type of the content you are attaching",
      example: "text/plain",
      key: "fileType",
      type: "string",
      default: "",
      label: "File Type",
    },
    {
      placeholder: "Email sender",
      required: true,
      comments: "The sender's email address",
      example: "susan.smith@progix.io",
      key: "fromEmail",
      type: "string",
      default: "",
      label: "From Email",
    },
    {
      placeholder: "Name of sender",
      required: false,
      comments: "The sender's name",
      example: "John Doe",
      key: "fromName",
      type: "string",
      default: "",
      label: "From Name",
    },
    {
      placeholder: "HTML Body",
      required: false,
      comments: "The optional HTML body of the email",
      example: "Hello from <b>Composer!</b>",
      key: "html",
      type: "text",
      default: "",
      label: "HTML",
    },
    {
      required: false,
      language: "json",
      comments:
        "You can use this field to overwrite multiple properties of the email. For examples of which properties to use, checkout the SendGrid docs: https://docs.sendgrid.com/for-developers/sending-email/personalizations",
      example:
        '[\n  {\n    "to": [\n      {\n        "email": "john@example.com"\n      }\n    ],\n    "send_at": 1600188812\n  },\n  {\n    "to": [\n      {\n        "email": "jane@example.com"\n      }\n    ],\n    "send_at": 1600275471\n  }\n]',
      key: "personalizations",
      type: "code",
      default: "[]",
      label: "Personalizations",
    },
    {
      placeholder: "Email To Reply To",
      required: false,
      comments: "Email To Reply To",
      example: "susan.smith@progix.io",
      key: "replyToEmail",
      type: "string",
      default: "",
      label: "Reply To Email",
    },
    {
      placeholder: "Name To Reply To",
      required: false,
      comments:
        "Name to reply to. This field is only required when you provide a value for Reply To Email.",
      example: "John Doe",
      key: "replyToName",
      type: "string",
      default: "",
      label: "Reply To Name",
    },
    {
      required: true,
      key: "sendGridConnection",
      type: "connection",
      label: "Connection",
    },
    {
      placeholder: "Subject",
      required: true,
      comments: "The email subject line",
      example: "Hello from Composer!",
      key: "subject",
      type: "string",
      default: "",
      label: "Subject",
    },
    {
      placeholder: "Text Body",
      required: true,
      comments: "The text body of the email",
      example: "Here's the body of a notification.",
      key: "text",
      type: "text",
      default: "",
      label: "Text",
    },
    {
      placeholder: "Email recipient(s)",
      required: true,
      comments:
        "The recipient's email address, or a comma-separated list of recipient email addresses",
      example: "alex.cooper@progix.io,kristin.henry@progix.io",
      key: "to",
      type: "string",
      default: "",
      label: "To",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": [
    {
      "body": {
        "message": "Example"
      },
      "statusCode": 200,
      "headers": {}
    },
    {}
  ]
}
```

<hr className="componentActionSeparator" />
