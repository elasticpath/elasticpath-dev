---
id: azure-files
title: Azure Files Component
sidebar_label: Azure Files
description: Manage files and folders within Azure Files. Learn more about using Composer's Azure Files component.
---

[//]: # "DO NOT EDIT THIS FILE MANUALLY."
[//]: # "This file was auto generated using scripts in docusaurus/scripts/components/"

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import ComponentInputsTable from "@site/src/components/component-inputs-table";
import ExampleIntegrationLink from "@site/src/components/example-integration-link";
import OAuthCallbackURL from "@site/src/components/oauth-callback-url";
import Screenshot from "@site/src/components/screenshot";
import Vimeo from "@site/src/components/vimeo";

<div className="avatar">
  <div className="avatar__photo-link avatar__photo avatar__photo--lg">
    <img
      src="data:image/png;base64,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"
      alt="Azure Files"
    />
  </div>
  <div className="avatar__intro">
    <h4 className="avatar__name">
      Manage files and folders within Azure Files
    </h4>
    <small className="avatar__subtitle">
      Component key: <b>azure-files</b>
    </small>
  </div>
</div>

## Description

[Azure Files](https://azure.microsoft.com/en-us/services/storage/files/) is Microsoft's cloud file sharing platform.
While similar to Azure Blob Storage, Azure Files is geared towards creating SMB file shares that groups of users (rather than applications) can use.
This component lets you manage files and shares within Azure Files.

Information about Azure Files can be found on their [documentation site](https://docs.microsoft.com/en-us/azure/storage/files/).

A common integration pattern involves listing files in a file store, and performing a series of actions on the array of files that are returned.
See our [looping over files](/docs/composer/builder/custom-components/quickstarts/looping-over-files.mdx) quickstart for information about how to create a loop over an array of files.

## Connections

### Connection String

You can also grant limited access to your Azure Storage Resources using [Shared Access Signatures (SAS)](https://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview) authentication, which involves an access token.
You can obtain a connection string containing an SAS token from the [Azure Portal](https://portal.azure.com/).
Keep in mind this token will eventually expire. Make sure to configure an expiration date you will remember, so you can manually refresh the token at a later date.

<ComponentInputsTable
  inputs={[
    {
      label: "Connection String",
      placeholder: "Connection String",
      type: "string",
      required: true,
      shown: true,
      comments:
        "Provide the connection string for your active directory account.",
      example:
        "BlobEndpoint=https://example.blob.core.windows.net/;QueueEndpoint=https://example.queue.core.windows.net/;FileEndpoint=https://example.file.core.windows.net/;TableEndpoint=https://example.table.core.windows.net/;SharedAccessSignature=sv=example=rwdlacupitfx&se=2024-05-01T03:51:00Z&st=20",
      key: "connectionString",
    },
  ]}
/>

### Storage Shared Key

Azure Files can use [storageSharedKeyCredential](https://docs.microsoft.com/en-us/rest/api/storageservices/authorize-with-shared-key) authentication, which involves an account / key pair.
You can obtain an account name / account key pair through the [Azure Portal](https://portal.azure.com/).

<ComponentInputsTable
  inputs={[
    {
      label: "Account Key",
      placeholder: "Account Key",
      type: "string",
      required: true,
      shown: true,
      comments: "Provide the key for your active directory account.",
      example: "exampleKey",
      key: "accountKey",
    },
    {
      label: "Account Name",
      placeholder: "Account Name",
      type: "string",
      required: true,
      shown: true,
      comments: "Provide the name for your active directory account.",
      example: "exampleName",
      key: "accountName",
    },
  ]}
/>

## Actions

<div id="copyfile" />

### Copy File

Copy a file | <small><b>key: copyFile</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "From Path",
      placeholder: "From Path",
      type: "string",
      required: true,
      comments:
        "An object in Azure Files is a file that is saved in a 'share'. This represents the source object's file path. Do not include a leading /",
      example: "path/to/source/file.txt",
      key: "fromPath",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
    {
      label: "To Path",
      placeholder: "To Path",
      type: "string",
      required: true,
      comments:
        "An object in Azure Files is a file that is saved in a 'share'. This represents the destination object's file path. Do not include a leading /",
      example: "path/to/destination/file.txt",
      key: "toPath",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "_response": {
      "parsedHeaders": {},
      "status": 200,
      "request": {
        "url": "www.elasticpathintegrations.com",
        "method": "POST",
        "withCredentials": false,
        "timeout": 500,
        "requestId": "exampleID"
      }
    }
  }
}
```

<hr className="componentActionSeparator" />

<div id="createfolder" />

### Create Folder

Create a folder under an existing path | <small><b>key: createFolder</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "Path",
      placeholder: "Object Path",
      type: "string",
      required: true,
      comments:
        "An object in Azure Files is a file that is saved in a 'share'. This represents the object's file path. Do not include a leading /",
      example: "path/to/file.txt",
      key: "path",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "_response": {
      "parsedHeaders": {},
      "status": 200,
      "request": {
        "url": "www.elasticpathintegrations.com",
        "method": "POST",
        "withCredentials": false,
        "timeout": 500,
        "requestId": "exampleID"
      }
    }
  }
}
```

<hr className="componentActionSeparator" />

<div id="createshare" />

### Create Share

Create a file share | <small><b>key: createShare</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "lastModified": "2021-11-30T00:00:00.000Z",
    "requestId": "example-request-id",
    "version": "2019-07-07",
    "date": "2021-11-30T00:00:00.000Z",
    "errorCode": null,
    "_response": {
      "parsedHeaders": {}
    }
  }
}
```

<hr className="componentActionSeparator" />

<div id="deletefile" />

### Delete File

Delete a file | <small><b>key: deleteFile</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "Path",
      placeholder: "Object Path",
      type: "string",
      required: true,
      comments:
        "An object in Azure Files is a file that is saved in a 'share'. This represents the object's file path. Do not include a leading /",
      example: "path/to/file.txt",
      key: "path",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "_response": {
      "parsedHeaders": {},
      "status": 200,
      "request": {
        "url": "www.elasticpathintegrations.com",
        "method": "POST",
        "withCredentials": false,
        "timeout": 500,
        "requestId": "exampleID"
      }
    }
  }
}
```

<hr className="componentActionSeparator" />

<div id="deletefolder" />

### Delete Folder

Delete an empty folder under an existing path | <small><b>key: deleteFolder</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "Path",
      placeholder: "Object Path",
      type: "string",
      required: true,
      comments:
        "An object in Azure Files is a file that is saved in a 'share'. This represents the object's file path. Do not include a leading /",
      example: "path/to/file.txt",
      key: "path",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "_response": {
      "parsedHeaders": {},
      "status": 200,
      "request": {
        "url": "www.elasticpathintegrations.com",
        "method": "POST",
        "withCredentials": false,
        "timeout": 500,
        "requestId": "exampleID"
      }
    }
  }
}
```

<hr className="componentActionSeparator" />

<div id="deleteshare" />

### Delete Share

Delete a file share | <small><b>key: deleteShare</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "_response": {
      "parsedHeaders": {},
      "status": 200,
      "request": {
        "url": "www.elasticpathintegrations.com",
        "method": "POST",
        "withCredentials": false,
        "timeout": 500,
        "requestId": "exampleID"
      }
    }
  }
}
```

<hr className="componentActionSeparator" />

<div id="downloadfile" />

### Download File

Download a file | <small><b>key: downloadFile</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "Path",
      placeholder: "Object Path",
      type: "string",
      required: true,
      comments:
        "An object in Azure Files is a file that is saved in a 'share'. This represents the object's file path. Do not include a leading /",
      example: "path/to/file.txt",
      key: "path",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "type": "Buffer",
    "data": [
      101,
      120,
      97,
      109,
      112,
      108,
      101
    ]
  },
  "contentType": "application/octet"
}
```

<hr className="componentActionSeparator" />

<div id="listfolder" />

### List Folder

List files and folders in a folder | <small><b>key: listFolder</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "Path",
      placeholder: "Object Path",
      type: "string",
      required: true,
      comments:
        "An object in Azure Files is a file that is saved in a 'share'. This represents the object's file path. Do not include a leading /",
      example: "path/to/file.txt",
      key: "path",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": [
    {
      "_response": {
        "parsedHeaders": {},
        "status": 200,
        "request": {
          "url": "www.elasticpathintegrations.com",
          "method": "POST",
          "withCredentials": false,
          "timeout": 500,
          "requestId": "exampleID"
        }
      },
      "shareName": "Example Share",
      "serviceEndpoint": "https://example.com",
      "directoryPath": "/share/exampleShare",
      "continuationToken": "1234abc",
      "segment": {
        "directoryItems": [],
        "fileItems": []
      }
    }
  ]
}
```

<hr className="componentActionSeparator" />

<div id="listshares" />

### List Shares

Get a list of file shares available in the account | <small><b>key: listShares</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": [
    {
      "name": "example",
      "snapshot": "snapshot-v1",
      "properties": {}
    }
  ]
}
```

<hr className="componentActionSeparator" />

<div id="uploadfile" />

### Upload File

Upload a file under an existing path | <small><b>key: uploadFile</b></small>

<ComponentInputsTable
  inputs={[
    {
      label: "Connection",
      type: "connection",
      required: true,
      key: "azureConnection",
    },
    {
      label: "File Contents",
      placeholder: "Output data from previous step",
      type: "data",
      required: true,
      comments:
        "The contents to write to a file. This can be a string of text, it can be binary data (like an image or PDF) that was generated in a previous step.",
      example: "My File Contents",
      key: "fileContents",
    },
    {
      label: "Path",
      placeholder: "Object Path",
      type: "string",
      required: true,
      comments:
        "An object in Azure Files is a file that is saved in a 'share'. This represents the object's file path. Do not include a leading /",
      example: "path/to/file.txt",
      key: "path",
    },
    {
      label: "Share Name",
      placeholder: "Share Name",
      type: "string",
      required: true,
      comments:
        "An Azure Files 'share' is a container where files are stored. You can create a share from within the Azure console. Share names contain only letters, numbers, and dashes.",
      example: "my-file-share",
      key: "shareName",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "_response": {
      "parsedHeaders": {},
      "status": 200,
      "request": {
        "url": "www.elasticpathintegrations.com",
        "method": "POST",
        "withCredentials": false,
        "timeout": 500,
        "requestId": "exampleID"
      }
    }
  }
}
```

<hr className="componentActionSeparator" />
