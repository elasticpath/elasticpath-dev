---
id: google-analytics-ga4
title: Google Analytics - GA4 Component
sidebar_label: Google Analytics - GA4
description: Manage Google Analytics GA4 accounts and data. Learn more about using Composer's Google Analytics - GA4 component.
---

[//]: # "DO NOT EDIT THIS FILE MANUALLY."
[//]: # "This file was auto generated using scripts in docusaurus/scripts/components/"

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import ComponentInputsTable from "@site/src/components/component-inputs-table";
import ExampleIntegrationLink from "@site/src/components/example-integration-link";
import OAuthCallbackURL from "@site/src/components/oauth-callback-url";
import Screenshot from "@site/src/components/screenshot";
import Vimeo from "@site/src/components/vimeo";

<div className="avatar">
  <div className="avatar__photo-link avatar__photo avatar__photo--lg">
    <img
      src="data:image/png;base64,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"
      alt="Google Analytics - GA4"
    />
  </div>
  <div className="avatar__intro">
    <h4 className="avatar__name">
      Manage Google Analytics GA4 accounts and data
    </h4>
    <small className="avatar__subtitle">
      Component key: <b>google-analytics-ga4</b>
    </small>
  </div>
</div>

## Description

[Google Analytics](https://analytics.google.com/) is Google's platform of analytics tooling.
This component allows you to manage Analytics GA4 data.

## Connections

### Google Analytics OAuth 2.0

The Google Analytics component authenticates requests through Google's OAuth 2.0 service.

To create a Google Analytics developer account and authenticate, follow their [Configure OAuth Consent guide](https://developers.google.com/workspace/guides/configure-oauth-consent)

Now, you will have to configure OAuth 2.0 settings in Composer. Create a new Google Analytics connection of type **OAuth 2.0**.

- For **Client ID** and **Client Secret** enter the values that you got from the Google Cloud Platform auth settings.
- For **Scopes** choose from the list found on [Google's service scopes documentation](https://developers.google.com/identity/protocols/oauth2/scopes#analytics)

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Authorize URL",
      required: true,
      shown: false,
      comments: "The OAuth 2.0 Authorization URL for Google Calendar",
      key: "authorizeUrl",
      type: "string",
      default:
        "https://accounts.google.com/o/oauth2/v2/auth?access_type=offline&prompt=consent",
      label: "Authorize URL",
    },
    {
      placeholder: "Client ID",
      required: true,
      comments:
        "Provide a string value for the client Id of your OAuth 2.0 application.",
      shown: true,
      key: "clientId",
      type: "string",
      default: "",
      label: "Client ID",
    },
    {
      placeholder: "Client Secret",
      comments:
        "Provide a string value for the client secret of your OAuth 2.0 application.",
      required: true,
      shown: true,
      key: "clientSecret",
      type: "password",
      default: "",
      label: "Client Secret",
    },
    {
      placeholder: "Scopes",
      required: true,
      shown: true,
      comments:
        "A space-delimited set of one or more scopes to get the user's permission to access.",
      key: "scopes",
      type: "string",
      default:
        "https://www.googleapis.com/auth/analytics https://www.googleapis.com/auth/analytics.manage.users https://www.googleapis.com/auth/analytics.edit https://www.googleapis.com/auth/analytics.readonly",
      label: "Scopes",
    },
    {
      placeholder: "Token URL",
      required: true,
      shown: false,
      comments: "The OAuth 2.0 Token URL for Google Analytics",
      key: "tokenUrl",
      type: "string",
      default: "https://oauth2.googleapis.com/token",
      label: "Token URL",
    },
  ]}
/>

## Data Sources

<div id="listaccounts" />

### List Accounts

Return a list of accounts accessible by the caller | <small><b>key: listAccounts</b></small> | <small><b>type: picklist</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "connection",
      type: "connection",
      label: "Connection",
    },
  ]}
/>

#### Data Source Payload

```json
{
  "result": [
    {
      "key": "accounts/000000000",
      "label": "My Account 1"
    },
    {
      "key": "accounts/000000001",
      "label": "My Account 2"
    }
  ]
}
```

<hr className="componentActionSeparator" />

<div id="listproperties" />

### List Properties

List Google Analyatics GA4 properties for an account | <small><b>key: listProperties</b></small> | <small><b>type: picklist</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      example: "accounts/000000000",
      key: "accountId",
      type: "string",
      default: "",
      label: "Account ID",
    },
    {
      required: true,
      key: "connection",
      type: "connection",
      label: "Connection",
    },
  ]}
/>

<hr className="componentActionSeparator" />

## Actions

<div id="getproperty" />

### Get Property

Get property by ID | <small><b>key: getProperty</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "connection",
      type: "connection",
      label: "Connection",
    },
    {
      required: true,
      example: "properties/111111111",
      key: "propertyId",
      type: "string",
      default: "",
      label: "Property ID",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "name": "properties/111111111",
    "parent": "accounts/000000000",
    "createTime": "2022-02-02T04:40:59.611Z",
    "updateTime": "2022-02-02T04:40:59.611Z",
    "displayName": "www.example.com",
    "industryCategory": "OTHER",
    "timeZone": "America/Chicago",
    "currencyCode": "USD",
    "serviceLevel": "GOOGLE_ANALYTICS_STANDARD",
    "account": "accounts/000000000",
    "propertyType": "PROPERTY_TYPE_ORDINARY"
  }
}
```

<hr className="componentActionSeparator" />

<div id="listaccounts" />

### List Accounts

Return a list of accounts accessible by the caller | <small><b>key: listAccounts</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "connection",
      type: "connection",
      label: "Connection",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "accounts": [
      {
        "name": "accounts/000000000",
        "createTime": "2012-11-20T15:12:07.864Z",
        "updateTime": "2015-08-11T21:08:55.416Z",
        "displayName": "Example Account",
        "regionCode": "US"
      }
    ]
  }
}
```

<hr className="componentActionSeparator" />

<div id="listproperties" />

### List Properties

List Google Analyatics GA4 properties for an account | <small><b>key: listProperties</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      example: "accounts/000000000",
      key: "accountId",
      type: "string",
      default: "",
      label: "Account ID",
    },
    {
      required: true,
      key: "connection",
      type: "connection",
      label: "Connection",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "properties": [
      {
        "name": "properties/111111111",
        "parent": "accounts/000000000",
        "createTime": "2022-02-02T04:40:59.611Z",
        "updateTime": "2022-02-02T04:40:59.611Z",
        "displayName": "www.example.com",
        "industryCategory": "OTHER",
        "timeZone": "America/Chicago",
        "currencyCode": "USD",
        "serviceLevel": "GOOGLE_ANALYTICS_STANDARD",
        "account": "accounts/000000000",
        "propertyType": "PROPERTY_TYPE_ORDINARY"
      }
    ]
  }
}
```

<hr className="componentActionSeparator" />

<div id="rawrequest" />

### Raw Request

Send raw HTTP request to Google Analytics GA4 | <small><b>key: rawRequest</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      model: [
        {
          label: "https://analyticsadmin.googleapis.com/v1beta",
          value: "https://analyticsadmin.googleapis.com/v1beta",
        },
        {
          label: "https://analyticsdata.googleapis.com/v1beta",
          value: "https://analyticsdata.googleapis.com/v1beta",
        },
      ],
      key: "baseUrl",
      type: "string",
      default: "",
      label: "Base URL",
    },
    {
      required: true,
      key: "connection",
      type: "connection",
      label: "Connection",
    },
    {
      placeholder: "Data to send",
      required: false,
      comments: "The HTTP body payload to send to the URL.",
      example: '{"exampleKey": "Example Data"}',
      key: "data",
      type: "string",
      default: "",
      label: "Data",
    },
    {
      required: false,
      comments: "Enabling this flag will log out the current request.",
      key: "debugRequest",
      type: "boolean",
      default: "false",
      label: "Debug Request",
    },
    {
      placeholder: "Data to send",
      required: false,
      comments: "File Data to be sent as a multipart form upload.",
      example: '[{key: "example.txt", value: "My File Contents"}]',
      key: "fileData",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "File Data",
    },
    {
      placeholder: "Data to send",
      required: false,
      comments: "The Form Data to be sent as a multipart form upload.",
      example: '[{"key": "Example Key", "value": new Buffer("Hello World")}]',
      key: "formData",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Form Data",
    },
    {
      placeholder: "Header",
      required: false,
      comments: "A list of headers to send with the request.",
      example: "User-Agent: curl/7.64.1",
      key: "headers",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Header",
    },
    {
      placeholder: "Max Retries",
      required: false,
      comments: "The maximum number of retries to attempt.",
      key: "maxRetries",
      type: "string",
      default: "0",
      label: "Max Retry Count",
    },
    {
      required: true,
      model: [
        {
          label: "DELETE",
          value: "DELETE",
        },
        {
          label: "GET",
          value: "GET",
        },
        {
          label: "HEAD",
          value: "HEAD",
        },
        {
          label: "LINK",
          value: "LINK",
        },
        {
          label: "OPTIONS",
          value: "OPTIONS",
        },
        {
          label: "PATCH",
          value: "PATCH",
        },
        {
          label: "POST",
          value: "POST",
        },
        {
          label: "PURGE",
          value: "PURGE",
        },
        {
          label: "PUT",
          value: "PUT",
        },
        {
          label: "UNLINK",
          value: "UNLINK",
        },
      ],
      comments: "The HTTP method to use.",
      key: "method",
      type: "string",
      default: "",
      label: "Method",
    },
    {
      placeholder: "Query Parameter",
      required: false,
      comments:
        "A list of query parameters to send with the request. This is the portion at the end of the URL similar to ?key1=value1&key2=value2.",
      key: "queryParams",
      type: "string",
      default: "",
      collection: "keyvaluelist",
      label: "Query Parameter",
    },
    {
      placeholder: "Response Type",
      required: true,
      comments:
        "The type of data you expect in the response. You can request json, text, or binary data.",
      model: [
        {
          label: "arraybuffer",
          value: "arraybuffer",
        },
        {
          label: "document",
          value: "document",
        },
        {
          label: "json",
          value: "json",
        },
        {
          label: "text",
          value: "text",
        },
      ],
      key: "responseType",
      type: "string",
      default: "json",
      label: "Response Type",
    },
    {
      required: false,
      comments:
        "If true, retries on all erroneous responses regardless of type.",
      key: "retryAllErrors",
      type: "boolean",
      default: "false",
      label: "Retry On All Errors",
    },
    {
      placeholder: "Retry Delay",
      required: false,
      comments: "The delay in milliseconds between retries.",
      key: "retryDelayMS",
      type: "string",
      default: "0",
      label: "Retry Delay (ms)",
    },
    {
      required: false,
      comments:
        "The maximum time that a client will await a response to its request",
      example: "2000",
      key: "timeout",
      type: "string",
      default: "",
      label: "Timeout",
    },
    {
      placeholder: "URL to call",
      required: true,
      comments:
        "Input the path only (/accounts), the base URL comes from the Base URL input. For example, to connect to <INPUT_BASE_URL>/accounts, only /accounts is entered in this field.",
      example: "/accounts",
      key: "url",
      type: "string",
      default: "",
      label: "URL",
    },
    {
      required: false,
      comments:
        "Specifies whether to use a pre-defined exponential backoff strategy for retries.",
      key: "useExponentialBackoff",
      type: "boolean",
      default: "false",
      label: "Use Exponential Backoff",
    },
  ]}
/>

<hr className="componentActionSeparator" />

<div id="runreport" />

### Run Report

Run a customized report on your Google Analytics event data | <small><b>key: runReport</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "connection",
      type: "connection",
      label: "Connection",
    },
    {
      required: true,
      example: "properties/111111111",
      key: "propertyId",
      type: "string",
      default: "",
      label: "Property ID",
    },
    {
      language: "json",
      required: true,
      comments:
        "See https://developers.google.com/analytics/devguides/reporting/data/v1/rest/v1beta/properties/runReport for details on what dimensions, metrics, etc., you can specify.",
      key: "requestBody",
      type: "code",
      default:
        '{\n  "dimensions": [\n    {\n      "name": "pageTitle"\n    }\n  ],\n  "metrics": [\n    {\n      "name": "sessions"\n    }\n  ],\n  "dateRanges": [\n    {\n      "startDate": "7daysAgo",\n      "endDate": "yesterday"\n    }\n  ],\n  "dimensionFilter": {\n    "notExpression": {\n      "filter": {\n        "fieldName": "pageTitle",\n        "stringFilter": {\n          "value": "My Homepage"\n        }\n      }\n    }\n  }\n}',
      label: "Request Body",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "dimensionHeaders": [
      {
        "name": "pageTitle"
      }
    ],
    "metricHeaders": [
      {
        "name": "sessions",
        "type": "TYPE_INTEGER"
      }
    ],
    "rows": [
      {
        "dimensionValues": [
          {
            "value": "My Example Page | My Website"
          }
        ],
        "metricValues": [
          {
            "value": "9"
          }
        ]
      },
      {
        "dimensionValues": [
          {
            "value": "A blog post | My Blog"
          }
        ],
        "metricValues": [
          {
            "value": "3"
          }
        ]
      }
    ],
    "rowCount": 2,
    "metadata": {
      "currencyCode": "USD",
      "timeZone": "America/Chicago"
    },
    "kind": "analyticsData#runReport"
  }
}
```

<hr className="componentActionSeparator" />
