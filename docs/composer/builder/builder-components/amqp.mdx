---
id: amqp
title: AMQP Component
sidebar_label: AMQP
description: Send and receive messages on an AMQP-based message broker. Learn more about using Composer's AMQP component.
---

[//]: # "DO NOT EDIT THIS FILE MANUALLY."
[//]: # "This file was auto generated using scripts in docusaurus/scripts/components/"

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import ComponentInputsTable from "@site/src/components/component-inputs-table";
import ExampleIntegrationLink from "@site/src/components/example-integration-link";
import OAuthCallbackURL from "@site/src/components/oauth-callback-url";
import Screenshot from "@site/src/components/screenshot";
import Vimeo from "@site/src/components/vimeo";

<div className="avatar">
  <div className="avatar__photo-link avatar__photo avatar__photo--lg">
    <img
      src="data:image/png;base64,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"
      alt="AMQP"
    />
  </div>
  <div className="avatar__intro">
    <h4 className="avatar__name">
      Send and receive messages on an AMQP-based message broker
    </h4>
    <small className="avatar__subtitle">
      Component key: <b>amqp</b>
    </small>
  </div>
</div>

## Description

The Advanced Message Queuing Protocol (**AMQP**) is a standard protocol for interacting with message brokers and queueing platforms.
It is used by many common message broker services like [Azure Event Hubs](https://azure.microsoft.com/en-us/services/event-hubs/), [Apache Qpid](https://qpid.apache.org/), [RabbitMQ](https://www.rabbitmq.com/) and more.

This component allows you to manage messages on an AMQP-based queue.

## Connections

### AMQP Connection

An AMQP connection is comprised of a host name (this can be an IP address or FQDN endpoint), port, protocol and vhost.
For example, if you are told that your AMQP server is hosted at `amqps://amqp.example.com:5672/example/vhost`, enter `amqp.example.com` for the **host**, and `5672` for the **port**, select `AMQPS` for the **protocol**, and enter `example/vhost` for the **vhost**.

AMQP often requires authentication (a username and password), but some AMQP servers are anonymous and do not require authentication.
If the server you're interacting with is allows anonymous authentication, you can omit the **username** and **password** fields.

You can verify that your settings are correct using the this component's [Check AMQP Connection](#check-amqp-connection) action.

<ComponentInputsTable
  inputs={[
    {
      placeholder: "Host",
      required: true,
      shown: true,
      comments: "The IP address or endpoint of the AMQP server",
      key: "host",
      type: "string",
      default: "192.168.0.1",
      label: "Host",
    },
    {
      placeholder: "Password",
      required: false,
      shown: true,
      comments:
        "This can be omitted if the AMQP server allows anonymous authentication",
      key: "password",
      type: "string",
      default: "",
      label: "Password",
    },
    {
      placeholder: "Port",
      required: true,
      shown: true,
      comments: "The port of the AMQP server",
      key: "port",
      type: "string",
      default: "5672",
      label: "Port",
    },
    {
      model: [
        {
          label: "AMQP",
          value: "amqp",
        },
        {
          label: "AMQPS",
          value: "amqps",
        },
      ],
      required: true,
      comments:
        "Provide the desired protocol in which you want to interact with the queue. ",
      key: "protocol",
      type: "string",
      default: "amqp",
      label: "Protocol",
    },
    {
      placeholder: "Username",
      required: false,
      shown: true,
      comments:
        "This can be omitted if the AMQP server allows anonymous authentication",
      key: "username",
      type: "string",
      default: "",
      label: "Username",
    },
    {
      placeholder: "Vhost",
      required: false,
      comments:
        'The "example/vhost" portion of amqps://amqp.example.com:5672/example/vhost',
      key: "vhost",
      type: "string",
      default: "",
      label: "Vhost",
    },
  ]}
/>

## Actions

<div id="acknowledgemessage" />

### Acknowledge Message

Acknowledge a previously fetched message | <small><b>key: acknowledgeMessage</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "amqpConnection",
      type: "connection",
      label: "Connection",
    },
    {
      required: true,
      comments:
        "An AMQP message. This must reference the results of a previous 'Get Message' step",
      key: "message",
      type: "string",
      default: "",
      label: "Message",
    },
  ]}
/>

<hr className="componentActionSeparator" />

<div id="checkconnection" />

### Check AMQP Connection

Verify that an AMQP server is available, and return the server's connection information. This is helpful for debugging purposes. | <small><b>key: checkConnection</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "amqpConnection",
      type: "connection",
      label: "Connection",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "host": "amqp.example.com",
    "copyright": "Copyright (c) 2007-2022 VMware, Inc. or its affiliates.",
    "information": "Licensed under the MPL 2.0. Website: https://rabbitmq.com",
    "platform": "Erlang/OTP 24.2.1",
    "product": "RabbitMQ",
    "version": "3.9.13",
    "connection": {
      "host": "amqp.example.com",
      "port": "5672",
      "vhost": "example/vhost",
      "password": "myPassword",
      "protocol": "amqp",
      "username": "myUsername"
    }
  }
}
```

<hr className="componentActionSeparator" />

<div id="getmessage" />

### Get Message

Receives a message from an AMQP-based queue | <small><b>key: getMessage</b></small>

<ComponentInputsTable
  inputs={[
    {
      comments: 'Automatically mark the message received as "Acknowledged"',
      key: "acknowledgeMessage",
      type: "boolean",
      default: "true",
      label: "Acknowledge Message",
    },
    {
      required: true,
      key: "amqpConnection",
      type: "connection",
      label: "Connection",
    },
    {
      example: "myQueue",
      placeholder: "Queue Name",
      required: true,
      comments:
        "Provide the name of the queue you would like to interact with.",
      key: "queueName",
      type: "string",
      default: "",
      label: "Queue Name",
    },
  ]}
/>

This action will return a message from a given queue, if a message is available to get.
If no message is available, this action will return `null`.

Use a [Branch on Expression](/docs/composer/builder/builder-components/branch.mdx) step to branch based on whether or not a message was fetched.
You can check if the results of this step are non-null using the **exists** operator.

You have two options for marking a message "acknowledged":

1. You can set the `Acknowledge Message` input to `true`.
   This will cause the message to be acknowledged immediately, and the message will be removed from the queue.
1. You can choose to not acknowledge the message immediately, but instead process the message and then pass the message to a [Acknowledge Message](#acknowledgeMessage) step instead.
   This option is helpful if you would like to ensure the message is processed completely before removing it from the queue.

#### Output Example Payload

```
{
  "data": {
    "fields": {
      "deliveryTag": 1,
      "redelivered": true,
      "routingKey": "classic",
      "messageCount": 10
    },
    "properties": {
      "contentType": "text",
      "contentEncoding": "",
      "deliveryMode": "exampleMode",
      "priority": "High",
      "correlationId": "exampleId",
      "replyTo": "",
      "expiration": "",
      "messageId": "exampleId",
      "timestamp": "Fri, 06 Aug 2021 00:00:00 GMT",
      "type": "Buffer",
      "userId": "exampleId",
      "appId": "exampleId",
      "clusterId": "exampleId"
    },
    "content": {
      "type": "Buffer",
      "data": [
        69,
        120,
        97,
        109,
        112,
        108,
        101
      ]
    },
    "message": "Example Message Content"
  }
}
```

<hr className="componentActionSeparator" />

<div id="publishmessage" />

### Publish Message

Add a message to an AMQP-based queue | <small><b>key: publishMessage</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "amqpConnection",
      type: "connection",
      label: "Connection",
    },
    {
      required: false,
      comments:
        "Provide the name of the exchange you would like to interact with. (Note: this parameter is required when Route Messages is true.)",
      example: "account_events",
      key: "exchange",
      type: "string",
      default: "",
      label: "Exchange",
    },
    {
      example: "Message to Queue",
      placeholder: "Message",
      required: true,
      comments: "Provide a message to push on to the queue.",
      key: "message",
      type: "string",
      default: "",
      label: "Message",
    },
    {
      example: "myQueue",
      placeholder: "Queue Name",
      required: false,
      comments:
        "Provide the name of the queue you would like to interact with. (Note: this input is required when Route Messages is false.)",
      key: "queueName",
      type: "string",
      default: "",
      label: "Queue Name",
    },
    {
      required: true,
      comments: "If you would like to route this message, check this box.",
      key: "routeMessage",
      type: "boolean",
      default: "false",
      label: "Route Message",
    },
    {
      required: false,
      comments:
        "Provide the routing key you would like to use. (Note: this parameter is required when Route Messages is true.)",
      example: "account_key",
      key: "routingKey",
      type: "string",
      default: "",
      label: "Routing Key",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": true
}
```

<hr className="componentActionSeparator" />

<div id="rejectmessage" />

### Reject Message

Rejects one message from an AMQP-based queue | <small><b>key: rejectMessage</b></small>

<ComponentInputsTable
  inputs={[
    {
      required: true,
      key: "amqpConnection",
      type: "connection",
      label: "Connection",
    },
    {
      example: "myQueue",
      placeholder: "Queue Name",
      required: true,
      comments:
        "Provide the name of the queue you would like to interact with.",
      key: "queueName",
      type: "string",
      default: "",
      label: "Queue Name",
    },
  ]}
/>

#### Output Example Payload

```
{
  "data": {
    "consumerTag": "amq.ctag-ExampleTag"
  }
}
```

<hr className="componentActionSeparator" />
